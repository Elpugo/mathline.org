<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Math Line</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      text-align: center;
      color: #f0f0f0;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background: linear-gradient(-45deg, #1a0000, #4a0d0d, #7d1a1a, #2a0000, #ffb300);
      background-size: 400% 400%;
      animation: moveBackground 12s ease infinite;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    #bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    header {
      background: linear-gradient(90deg, #7d1a1a, #b30000, #ffb300);
      padding: 25px;
      border-bottom: 3px solid #000;
      box-shadow: 0 4px 15px rgba(0,0,0,0.7);
    }

    header h1 {
      margin: 0;
      font-size: 2.8em;
      color: #fff;
      text-shadow: 0 0 15px #ffb300;
    }

    header p {
      color: #ffdb91;
      font-size: 1.2em;
      margin-top: 5px;
    }

    .game-list {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 30px;
      padding: 40px 20px;
    }

    .game-card {
      background: linear-gradient(145deg, #2a0a0a, #1a0a0a);
      border: 2px solid #ffb300;
      border-radius: 16px;
      width: 230px;
      padding: 30px 20px;
      cursor: pointer;
      transition: transform 0.25s, box-shadow 0.25s;
      box-shadow: 0 6px 14px rgba(0,0,0,0.5);
    }

    .game-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 12px 25px rgba(255,179,0,0.6), 0 0 25px #ffb300;
    }

    .game-card span {
      font-size: 1.3em;
      font-weight: bold;
      color: #ffb300;
      display: block;
      margin-top: 10px;
      text-shadow: 0 0 8px #b30000;
    }

    .glow-card {
      background: linear-gradient(145deg, #3a0a0a, #1e1e2e);
      box-shadow: 0 0 25px #ffb300, 0 0 45px #b30000;
      border: 2px solid #ffb300;
    }

    .glow-card:hover {
      transform: translateY(-8px) scale(1.05);
      box-shadow: 0 0 40px #ffb300, 0 0 60px #b30000;
    }

    .back-btn, .fullscreen-btn {
      display: none;
      position: fixed;
      top: 20px;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s, opacity 0.3s;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    .back-btn {
      left: 20px;
      background: linear-gradient(90deg, #b30000, #ffb300);
    }

    .fullscreen-btn {
      right: 20px;
      background: linear-gradient(90deg, #ffb300, #b30000);
    }

    .back-btn:hover, .fullscreen-btn:hover {
      transform: scale(1.07);
      opacity: 0.9;
    }

    iframe {
      display: none;
      width: 95%;
      height: 650px;
      margin: 40px auto;
      border: none;
      border-radius: 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
      background: #000;
    }

    footer {
      margin-top: 60px;
      padding: 25px;
      background: #1a0a0a;
      border-top: 3px solid #ffb300;
      color: #ffdb91;
      font-size: 0.95em;
      box-shadow: 0 -4px 12px rgba(0,0,0,0.5);
    }
  </style>
</head>

<body>
  <canvas id="bg"></canvas>

  <header>
    <h1> Math Line </h1>
    <p>New and improved — now with save support!
    Share to who ever but it can still be blocked</p>
  </header>

  <!-- GAME MENU -->
  <div class="game-list" id="game-list">
    <div class="game-card" onclick="loadGame('ragdoll-archers.html')"><span> Ragdoll Archers</span></div>
    <div class="game-card" onclick="loadGame('Ragdoll-hit.html')"><span> Ragdoll Hit</span></div>
    <div class="game-card" onclick="loadGame('Time-shooter.html')"><span> Time Shooter</span></div>
    <div class="game-card" onclick="loadGame('Retro-Bowl.html')"><span> Retro Bowl</span></div>
    <div class="game-card" onclick="loadGame('snow-rider.html')"><span> Snow Rider</span></div>
    <div class="game-card" onclick="loadGame('swords-and-sandlas.html')"><span> Swords & Sandals</span></div>
    <div class="game-card" onclick="loadGame('Crazy-Cattle.html')"><span> Crazy Cattle</span></div>
    <div class="game-card" onclick="loadGame('Gladi-hoppers.html')"><span> Gladi Hoppers</span></div>
    <div class="game-card" onclick="loadGame('clbitplanes.html')"><span> Bit Planes</span></div>
    <div class="game-card" onclick="loadGame('clfinalearth2.html')"><span> Final Earth 2</span></div>
    <div class="game-card" onclick="loadGame('clclusterrush.html')"><span> Cluster Rush</span></div>
    <div class="game-card" onclick="loadGame('clpushyourluck.html')"> <span>Push your luck </span> </div>
    <div class="game-card" onclick="loadGame('clpolytrackworksnow.html')"><span>Poly Track</span></div>
    <div class="game-card" onclick="loadGame('clragdollsoccer.html')"><span>Ragdoll soccer</span></div>
    <div class="game-card" onclick="loadGame('cljetpackjoyride.html')"><span>JetPack Joy Ride</span></div>
    <div class="game-card" onclick="loadGame('cllearntofly3.html')"><span>Learn to fly 3</span></div>
    <div class="game-card" onclick="loadGame('clpolytrackworksnow.html')"><span>Poly track</span></div>
    <div class="game-card" onclick="loadGame('clgunspin.html')"><span>Gun Spin</span></div>
    <div class="game-card" onclick="loadGame('clageofwar2.html')"><span>Age of war 2</span></div>
    <div class="game-card" onclick="loadGame('clmotox3m2.html')"><span>Moto X3M 2</span></div>
    <div class="game-card" onclick="loadGame('clmotox3mwinter.html')"><span>Moto X3M Winter</span></div>
    <div class="game-card" onclick="loadGame('clbasketballstars.html')"><span>Basketball stars</span></div>
    <div class="game-card" onclick="loadGame('idle-breakout.html')"><span>Idle breakout</span></div>
    <div class="game-card" onclick="loadGame('vex8.html')"><span>Vex 8</span></div>
    <div class="game-card" onclick="loadGame('monkey-mart.html')"><span>Monkey Mart</span></div>
    <div class="game-card" onclick="loadGame('drive-mad.html')"><span>Drive Mad</span></div>

    <!-- Glowing External Link -->
    <div class="game-card glow-card">
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSevmKWapDp5CV1txbj9HlnanJkNoYr10ifpDQs6OvstLCckMA/viewform?usp=sharing"
         target="_blank"
         style="text-decoration:none; color:inherit; display:block;">
        <span> Request a Game </span>
      </a>
    </div>
  </div>

  <!-- Back & Fullscreen Buttons -->
  <button class="back-btn" id="back-btn" onclick="goBack()">⬅ Back</button>
  <button class="fullscreen-btn" id="fullscreen-btn" onclick="goFullscreen()">⛶ Fullscreen</button>

  <!-- Game Display -->
  <iframe id="game-frame"></iframe>

  <footer>
    <p>Made with ❤️ for players</p>
  </footer>

  <script>
    /* === PARTICLE BACKGROUND === */
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');
    canvas.width = innerWidth;
    canvas.height = innerHeight;

    let particles = Array.from({ length: 70 }, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 2 + 1,
      dx: (Math.random() - 0.5) * 0.5,
      dy: (Math.random() - 0.5) * 0.5,
      color: Math.random() > 0.5 ? 'rgba(255,179,0,0.8)' : 'rgba(179,0,0,0.8)'
    }));

    function animate() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fillStyle = p.color;
        ctx.fill();
        p.x += p.dx;
        p.y += p.dy;
        if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
        if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
      });
      requestAnimationFrame(animate);
    }
    animate();

    /* === GAME LOADING === */
    function loadGame(url) {
      document.getElementById("game-list").style.display = "none";
      document.getElementById("back-btn").style.display = "inline-block";
      document.getElementById("fullscreen-btn").style.display = "inline-block";
      const frame = document.getElementById("game-frame");
      frame.src = url;
      frame.style.display = "block";
      window.scrollTo(0,0);
    }

    function goBack() {
      document.getElementById("game-list").style.display = "flex";
      document.getElementById("back-btn").style.display = "none";
      document.getElementById("fullscreen-btn").style.display = "none";
      const frame = document.getElementById("game-frame");
      frame.src = "";
      frame.style.display = "none";
    }

    function goFullscreen() {
      const frame = document.getElementById("game-frame");
      if (frame.requestFullscreen) {
        frame.requestFullscreen();
      } else if (frame.webkitRequestFullscreen) {
        frame.webkitRequestFullscreen();
      } else if (frame.msRequestFullscreen) {
        frame.msRequestFullscreen();
      }
    }

    window.addEventListener('resize', () => {
      canvas.width = innerWidth;
      canvas.height = innerHeight;
    });
  </script>
</body>
</html>
